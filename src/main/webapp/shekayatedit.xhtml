<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:o="http://omnifaces.org/ui" xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>شکایات</title>
	<link href="resources/fonts.css" rel="stylesheet" type="text/css" />
	<link rel="shortcut icon" href="resources/images/logo_black.png" />
	<style>
.ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
	border: 0 none;
	text-align: right;
	border: 1px ridge;
}

.ui-widget-header .ui-inputfield, .ui-widget-content .ui-inputfield {
	font-weight: normal;
	width: 100% !important;
}
</style>
</h:head>
<ui:define name="metadata">
	<f:metadata>
		<f:event listener="#{userBean.isUser}" type="preRenderView"></f:event>
		<f:viewParam name="shakiId" />
	</f:metadata>
</ui:define>
<h:body style=" background-color: #dddddd;">
	<h:form>
		<p:commandLink value="خروج" action="#{userBean.exitAdmin()}"
			style="padding-left:100px; font-size:22px; text-decoration: none!important;" />
	</h:form>
	<div style="direction: rtl;">
		<br />
		<p:panel id="pnl" header="اطلاعات شکایت"
			style="text-align:center; margin:20px;">
			<p:graphicImage value="resources/images/logo_black.png" width="50"
				height="50" />
			<p:panelGrid columns="2" id="pg" layout="grid"
				style="border:1px solid;">

				<p:outputLabel
					style="color:red!important; font-family: 'IRANSansBold' !important; font-size:30px;"
					for="inputccc" value="خواهان" />
				<p:outputLabel id="inputccc" value="" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="input55" value="شماره" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="input55"
					value="#{shekayatBean.findShekayatById(shakiId).shekayatId}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="input5x5" value="تاریخ درج شکایت" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="input5x5"
					value="#{shekayatBean.convertToJalali(shakiId)}" />


				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="input" value="نام و نام خانوادگی" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="input"
					value="#{shekayatBean.findShekayatById(shakiId).shakiName}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="msk" value="کد ملی" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="msk" dir="ltr"
					value="#{shekayatBean.findShekayatById(shakiId).shakiSsn}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="tele" value="تلفن ثابت" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="tele" dir="ltr"
					value="#{shekayatBean.findShekayatById(shakiId).shakiPhone}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="mob" value="تلفن همراه" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="mob" dir="ltr"
					value="#{shekayatBean.findShekayatById(shakiId).shakiMobile}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="input4" value="ایمیل" dir="ltr" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="input4"
					value="#{shekayatBean.findShekayatById(shakiId).shakiEmail}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="pos" value="کد پستی" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="pos" dir="ltr"
					value="#{shekayatBean.findShekayatById(shakiId).shakiPostCode}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="area" value="آدرس" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="area" dir="rtl"
					value="#{shekayatBean.findShekayatById(shakiId).shakiAddres}" />

				<p:outputLabel
					style="color:red!important; font-family: 'IRANSansBold' !important; font-size:30px;"
					for="areaxxx" value="خوانده" />
				<p:outputLabel id="areaxxx" value="" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="input1" value="نام واحد صنفی" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="input1"
					value="#{shekayatBean.findShekayatById(shakiId).vahedeSenfiName}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="input2" value="نام متصدی" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="input2"
					value="#{shekayatBean.findShekayatById(shakiId).motesadiName}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="tele2" value="تلفن واحد صنفی" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="tele2" dir="ltr"
					value="#{shekayatBean.findShekayatById(shakiId).vahedeSenfiPhone}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="mob2" value="تلفن همراه" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="mob2" dir="ltr"
					value="#{shekayatBean.findShekayatById(shakiId).vahedeSenfiMobile}" />


				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="input3" value="شناسه صنفی" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="input3"
					value="#{shekayatBean.findShekayatById(shakiId).vahedeShenaseSenfi}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="pos2" value="کد پستی" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="pos2" dir="ltr"
					value="#{shekayatBean.findShekayatById(shakiId).vahedeSenfiPostCode}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="area2" value="آدرس" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="area2"
					value="#{shekayatBean.findShekayatById(shakiId).vahedeShenaseAddres}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="onemenu" value="عنوان شکایت" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="onemenu"
					value="#{shekayatBean.findShekayatById(shakiId).shekayatTitle}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="area3" value="شرح شکایت" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="area3" value="#{shekayatBean.findShekayatById(shakiId).sharh}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="area323" value="وضعیت" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="area323"
					value="#{shekayatBean.findShekayatById(shakiId).vaziat}" />

				<p:outputLabel style="font-family: 'IRANSansBold' !important;"
					for="area13" value="شماره رهگیری" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="area13"
					value="#{shekayatBean.findShekayatById(shakiId).shomare}" />

				<p:outputLabel for="area113"
					style="font-family: 'IRANSansBold' !important;" value="تاریخ حضور" />
				<p:outputLabel style="font-family: 'IRANSansNor' !important;"
					id="area113"
					value="#{shekayatBean.findShekayatById(shakiId).tarikh}" />



			</p:panelGrid>
		</p:panel>
		<br />
		<h:form enctype="multipart/form-data" acceptcharset="UTF-8" id="form">
			<p:growl id="growl" />
			<p:panel id="pnl" header="ثبت وضعیت شکایت"
				style="margin:20px; text-align:center;">
				<p:messages id="messages" />
				<p:panelGrid columns="2" layout="grid">

					<p:outputLabel for="basic"
						style="font-family: 'IRANSansNor' !important;" value="وضعیت شکایت" />
					<p:inputTextarea styleClass="it" id="basic"
						style=" width: 100%; background-color:white!important;"
						value="#{shekayatBean.vaziat}" dir="rtl">
						<f:validateLength minimum="0" maximum="5000" />
					</p:inputTextarea>

					<p:outputLabel for="basic33"
						style="font-family: 'IRANSansNor' !important;" value="تاریخ حضور" />
					<p:inputMask style=" width: 100%;" id="basic33"
						value="#{shekayatBean.tarikh}" mask="9999/99/99" dir="ltr" />


					<p:outputLabel for="mob"
						style="font-family: 'IRANSansNor' !important; font-size:16px;"
						value="شماره رهگیری" />
					<p:inputNumber style="width: 100%!important;" dir="ltr" id="mob"
						emptyValue="zero" value="#{shekayatBean.shomare}"
						padControl="false" />


					<h:commandButton id="saveBtn" value="ثبت" icon="ui-icon-check"
						style="margin:0; width:100px; height:30px;" update="pnl"
						ajax="true" execute="@form"
						action="#{shekayatBean.shekayatUpdate(shakiId)}">
					</h:commandButton>

				</p:panelGrid>
				<p:separator />
			</p:panel>

		</h:form>

		<br />
		<!-- 		<h:form enctype="multipart/form-data" acceptcharset="UTF-8"
			id="formXX"> -->
		<p:growl id="growl3" />
		<p:panel id="pnl3" header="پرینت و ارسال پیامک"
			style="margin:20px; text-align:center;">
			<p:messages id="messages" />
			<p:panelGrid columns="4" layout="grid">

				<p:commandButton value="پرینت از اطلاعات" type="button"
					icon="ui-icon-print"
					style="font-family: 'IRANSansBold' !important;  display:block;margin-bottom: 20px">
					<p:printer target="pnl" />
				</p:commandButton>

				<p:commandButton value="پرینت از فاکتور" type="button"
					icon="ui-icon-print"
					style="font-family: 'IRANSansBold' !important;  display:block;margin-bottom: 20px">
					<p:printer target="oo" />
				</p:commandButton>
				<h:form>
					<p:growl id="growl2" />
					<h:commandButton value="ارسال پیامک برای حضور شاکی"
						action="#{shekayatBean.sendSmsOk(shekayatBean.findShekayatById(shakiId).shakiMobile,shekayatBean.findShekayatById(shakiId).shomare,shekayatBean.findShekayatById(shakiId).tarikh)}"
						style="font-family: 'IRANSansBold' !important;  display:block;margin-bottom: 20px; height:50px; width:250px;">
					</h:commandButton>
				</h:form>

				<h:form>
					<p:growl id="growl3" />
					<h:commandButton
						value="ارسال پیامک بی ارتباط بودن موضوع با اتحادیه"
						action="#{shekayatBean.sendSmsNok(shekayatBean.findShekayatById(shakiId).shakiMobile)}"
						style="font-family: 'IRANSansBold' !important;  display:block;margin-bottom: 20px; height:50px; width:250px;">
					</h:commandButton>
				</h:form>


			</p:panelGrid>
			<p:separator />
		</p:panel>

		<!-- </h:form> -->
		<br />
		<h3 style="font-family: 'IRANSansBold' !important;">فاکتور</h3>
		<div align="center">
			<o:graphicImage id="oo"
				value="#{shekayatBean.findShekayatById(shakiId).shakiFactor}"
				dataURI="true" />
		</div>
	</div>
</h:body>
</html>
